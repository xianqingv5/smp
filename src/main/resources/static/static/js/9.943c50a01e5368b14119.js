webpackJsonp([9],{"6xLm":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("yt7g"),s=i("IGoR"),n=i("7FI3"),o=function(t){return t&&t.__esModule?t:{default:t}}(n),l=(0,a.getStore)("token");e.default={mixins:[s.mixin],data:function(){return{canUpFiles:!1,inspectList:null,detailData:null,isShowUpFormFiles:!1,isShowinspectDetail:!1,fileList:[],upLoadUrl:"http://smp.bitauto.com/upload/apply",upLoadData:null}},computed:{role:function(){return(0,a.getStore)("role")},isNoPower:function(){return 5!=this.role&&6!=this.role},isUpFilePower:function(){return 6==this.role},isDownLoadEnclosurPower:function(){return 6==this.role}},components:{ApplyDetail:o.default},created:function(){5==this.role?this.canUpFiles=!0:this.canUpFiles=!1,this.getInspectListData()},methods:{getInspectListData:function(){var t=this;(0,a.ajaxPost)("/intelligent/getInspectList").then(function(e){var e="string"==typeof e?JSON.parse(e):e,i=e.data,a=i.code,s=(i.msg,i.result);0==a&&(t.inspectList=s.data)}).catch(function(t){console.log("err",t)})},handleLookDetail:function(t){this.isShowinspectDetail=!0;var e=this,i={id:t};(0,a.ajaxPost)("/intelligent/lookInspectDetail",i).then(function(t){var t="string"==typeof t?JSON.parse(t):t,i=t.data,a=i.code,s=(i.msg,i.result);0==a&&(e.detailData=s.data)}).catch(function(t){console.log("err",t)})},handleLookUpFiles:function(t){this.currentId=t,this.isShowUpFormFiles=!this.isShowUpFormFiles},submitUpload:function(){this.upLoadData={applyId:this.currentId,token:l};var t=this;setTimeout(function(){t.$refs.upload.submit()},500)},handleUpLoadSuccess:function(){this.isShowUpFormFiles=!this.isShowUpFormFiles,this.getInspectListData()},hancleCannelUpLoad:function(){this.isShowUpFormFiles=!1},handleApplyDownLoad:function(t,e,i){if(this.applyId=t,e){var a=i.target;a.setAttribute("href","http://smp.bitauto.com/download/apply?applyId="+this.applyId+"&&token="+l),a.setAttribute("download","反作弊申请单")}},handleEnclosureDownLoad:function(t,e,i){if(this.applyId=t,6==this.role){var a=i.target;a.setAttribute("href","http://smp.bitauto.com/download/enclosure?applyId="+this.applyId+"&&token="+l),a.setAttribute("download","附件")}},handleDetailClose:function(t){this.isShowinspectDetail=t},away:function(){this.isShowinspectDetail=!1}}}},"7FI3":function(t,e,i){i("gWem");var a=i("mEwh")(i("i+fr"),i("ZW+g"),null,null);t.exports=a.exports},"8skZ":function(t,e,i){var a=i("MBCA");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("qePi")("555fc216",a,!0)},IGoR:function(t,e,i){"use strict";function a(t,e){s(t);var i=e.value;if("function"==typeof i){var a=!1;setTimeout(function(){a=!0},0),t[o]=function(e){if(a&&!t.contains(e.target))return i(e)},document.documentElement.addEventListener("click",t[o],!1)}}function s(t){document.documentElement.removeEventListener("click",t[o],!1),delete t[o]}var n=i("E7jK");n="default"in n?n.default:n;/^2\./.test(n.version)||n.util.warn("VueClickaway 2.1.0 only supports Vue 2.x, and does not support Vue "+n.version);var o="_vue_clickaway_handler",l={bind:a,update:function(t,e){e.value!==e.oldValue&&a(t,e)},unbind:s},p={directives:{onClickaway:l}};e.version="2.1.0",e.directive=l,e.mixin=p},MBCA:function(t,e,i){e=t.exports=i("BkJT")(!1),e.push([t.i,".mod-inspectList{min-height:750px;position:relative}.mod-inspectList .inspectList{width:97%;margin:20px auto;border-radius:5px;background:#f9f9f9}.mod-inspectList .inspectList .table-title{width:100%;height:42px;line-height:42px;font-size:15px;background:#7fabd2;text-align:left;border-radius:5px}.mod-inspectList .inspectList .table-title span{width:24%;display:inline-block;text-align:center;color:#fff}.mod-inspectList .inspectList .table-title span:last-child{text-align:left;padding-left:18px}.mod-inspectList .inspectList .noData{min-height:650px;padding-top:160px;font-size:40px;text-align:center;color:#d2cfcf;box-sizing:border-box}.mod-inspectList .inspectList .table-data{border:1px solid #ccc}.mod-inspectList .inspectList .table-data .tableItem{width:100%;height:40px;line-height:40px;text-align:left;color:#333;border-bottom:1px dashed #dcdada}.mod-inspectList .inspectList .table-data .tableItem span{display:inline-block;width:24%;font-size:14px;text-align:center}.mod-inspectList .inspectList .table-data .tableItem:last-child{border:none}.mod-inspectList .inspectList .table-data .options{text-align:left!important}.mod-inspectList .inspectList .table-data .options span{width:auto;margin-right:10px;color:#1d90e6;cursor:pointer}.mod-inspectList .inspectList .table-data .options .canDownLoad{color:#1d90e6}.mod-inspectList .inspectList .table-data .options .cantDownLoad{color:#ccc}.mod-inspectList .inspectList .table-data .examine{color:#1d90e6;cursor:pointer}.mod-inspectList .inspectList .table-data .pass{color:green}.mod-inspectList .inspectList .table-data .filed{color:red}.mod-title{height:36px;line-height:36px;padding:0 20px;border-radius:5px;text-align:left;font-size:14px;background:#5477ad;color:#fff}.mod-title span{font-size:12px;margin-left:10px}.mod-title .titleData{margin-left:20px}.mod-title .option{float:right}.mod-title .option span{margin-right:20px;cursor:pointer}.mod-title .option span:hover{color:#528dff}.mod-inspectDetail{width:800px;height:420px;position:absolute;top:50%;left:50%;margin-left:-400px;margin-top:-300px}.mod-inspectDetail .mod{color:#333;letter-spacing:.4px}.mod-inspectDetail .mod,.mod-inspectDetail .mod span{height:40px;line-height:40px;font-size:14px;text-align:left}.mod-inspectDetail .mod span{display:inline-block}.mod-inspectDetail label{display:inline-block;width:100px;text-align:right;font-size:14px;margin-right:6px}.mod-inspectDetail .checkDetail{margin:30px auto;border-radius:5px;box-sizing:border-box;background:#fff;border:1px solid #ccc}.mod-inspectDetail .detailTitle{height:48px;line-height:48px;font-size:20px;font-weight:bolder}.mod-inspectDetail .alppyNumber{text-align:right;margin-right:80px}.mod-inspectDetail .mod-position .cityItem{margin-right:5px}.mod-inspectDetail .mod-data span{font-size:13px;margin-right:5px}.mod-inspectDetail .mod-budget span{margin-right:20px}.mod-inspectDetail .mod-budget input{margin-right:5px}.mod-inspectDetail .mod-desc span{margin-right:20px}.upApplyForFiles{width:300px;height:150px;position:fixed;top:50%;left:50%;margin-left:-50px;margin-top:-75px;background:#fff;z-index:10000;box-shadow:0 0 5px #ccc}.upApplyForFiles .upload{width:100%;height:100%;padding:20px;text-align:left;box-sizing:border-box}.upApplyForFiles .cannel{position:absolute;bottom:10px;right:16px;width:40px;height:18px;text-align:center;border-radius:3px;line-height:18px;background:#5477ad;color:#fff;font-size:10px;cursor:pointer}.upApplyForFiles .el-button--primary{border-color:#5477ad;background:#5477ad}.upApplyForFiles .el-button--success{background:#d7d7d7;border-color:#d7d7d7!important}.upApplyForFiles .el-button--success:hover{border-color:#5477ad;background:#5477ad}.upApplyForFiles .el-upload__tip{margin-top:12px}",""])},"ZW+g":function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"inspectApply"},[i("div",{staticClass:"inspectApplyForm"},[i("h5",{staticClass:"formTitle"},[t._v("填写申请单")]),t._v(" "),i("el-form",{ref:"inspectForm",staticClass:"demo-ruleForm",attrs:{model:t.inspectForm,"label-width":"100px"}},[i("span",{staticClass:"tips"},[t._v("所有带"),i("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v("为必填项")]),t._v(" "),i("el-form-item",{attrs:{label:"申请类型",prop:"applyType"}},[i("el-col",{attrs:{span:10}},[i("el-select",{attrs:{placeholder:"请选择",disabled:""},model:{value:t.inspectForm.applyType,callback:function(e){t.$set(t.inspectForm,"applyType",e)},expression:"inspectForm.applyType"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"渠道信息",prop:"channelInfoName"}},[i("el-col",{attrs:{span:10}},[i("el-select",{attrs:{placeholder:"请选择",disabled:""},model:{value:t.inspectForm.channelInfoName,callback:function(e){t.$set(t.inspectForm,"channelInfoName",e)},expression:"inspectForm.channelInfoName"}})],1),t._v(" "),i("el-col",{attrs:{span:10}},[i("el-input",{attrs:{type:"text",disabled:""},model:{value:t.inspectForm.channelInfoValue,callback:function(e){t.$set(t.inspectForm,"channelInfoValue",e)},expression:"inspectForm.channelInfoValue"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"样本需求",prop:"sampleDemandName"}},[i("el-col",{attrs:{span:10}},[i("el-select",{attrs:{placeholder:"请选择",disabled:""},model:{value:t.inspectForm.sampleDemandName,callback:function(e){t.$set(t.inspectForm,"sampleDemandName",e)},expression:"inspectForm.sampleDemandName"}})],1),t._v(" "),i("el-col",{attrs:{span:10}},[i("el-input",{attrs:{type:"text",disabled:""},model:{value:t.inspectForm.sampleDemandValue,callback:function(e){t.$set(t.inspectForm,"sampleDemandValue",e)},expression:"inspectForm.sampleDemandValue"}})],1)],1),t._v(" "),i("el-form-item",{attrs:{label:"数据参考",prop:"dataReferName"}},[i("el-col",{attrs:{span:10}},[i("el-select",{attrs:{placeholder:"请选择",disabled:""},model:{value:t.inspectForm.dataReferName,callback:function(e){t.$set(t.inspectForm,"dataReferName",e)},expression:"inspectForm.dataReferName"}})],1),t._v(" "),i("el-col",{attrs:{span:10}},[i("el-input",{attrs:{type:"text",disabled:""},model:{value:t.inspectForm.dataReferValue,callback:function(e){t.$set(t.inspectForm,"dataReferValue",e)},expression:"inspectForm.dataReferValue"}})],1)],1),t._v(" "),i("el-form-item",{staticClass:"mod-upload",attrs:{label:"附件"}},[i("el-col",{attrs:{span:10}},[i("div",{staticClass:"upButton"},[t._v("已经上传"),i("span")])])],1),t._v(" "),i("div",{staticClass:"close",on:{click:t.handleCloseBtn}},[t._v("\n                关闭\n            ")])],1)],1)])},staticRenderFns:[]}},gWem:function(t,e,i){var a=i("ohDM");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("qePi")("5f1455a8",a,!0)},"i+fr":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{detailData:{type:Object}},data:function(){return{inspectForm:{applyType:this.detailData.applyType,channelInfoName:this.detailData.applyType,channelInfoValue:this.detailData.channelInfoValue,sampleDemandName:this.detailData.sampleDemandName,sampleDemandValue:this.detailData.sampleDemandValue,dataReferName:this.detailData.dataReferName,dataReferValue:this.detailData.dataReferValue}}},methods:{handleCloseBtn:function(){this.$emit("closeBtn",!1)}}}},m99Y:function(t,e,i){i("8skZ");var a=i("mEwh")(i("6xLm"),i("peCN"),null,null);t.exports=a.exports},ohDM:function(t,e,i){e=t.exports=i("BkJT")(!1),e.push([t.i,".inspectApply{background:#fff;position:relative}.inspectApply .inspectApplyForm{width:95%;padding:20px}.inspectApply .inspectApplyForm .tips{font-size:14px;float:right;margin-right:32px}.inspectApply .formTitle{height:56px;line-height:56px;font-size:28px;font-weight:500;margin-bottom:26px;border-bottom:1px dashed #ccc}.inspectApply .el-form{width:80%;margin:0 auto}.inspectApply .el-form-item__label{font-size:16px}.inspectApply .el-button:hover{border:1px solid #5477ad;color:#fff;background-color:#5477ad}.inspectApply .el-button--primary{border-color:#5477ad!important}.inspectApply .mod-upload{text-align:left}.inspectApply .mod-upload .upButton{display:inline-block;width:100px;height:40px;margin-left:10px;text-align:center;border-radius:5px;background:#d6d6d6;color:snow}.inspectApply .close{float:right;width:66px;height:25px;margin-top:-26px;line-height:25px;background:#5477ad;color:#fff;border-radius:3px;font-size:13px;cursor:pointer}",""])},peCN:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"mod-inspectList"},[i("h5",{staticClass:"mod-title"},[t._v("我的申请\n    ")]),t._v(" "),i("div",{staticClass:"inspectList"},[t._m(0),t._v(" "),t.isNoPower?i("div",{staticClass:"noData"},[t._v("暂无权限")]):t._e(),t._v(" "),null!=t.inspectList&&0==t.inspectList.length?i("div",{staticClass:"noData"},[t._v("暂无数据")]):t._e(),t._v(" "),null!=t.inspectList?i("ul",{staticClass:"table-data"},t._l(t.inspectList,function(e,a){return i("li",{key:a,staticClass:"tableItem"},[i("span",[t._v(t._s(e.applyTime))]),t._v(" "),i("span",[t._v(t._s(e.applyNumber))]),t._v(" "),[1==e.status?i("span",{staticClass:"pass"},[t._v("已处理")]):0==e.status?i("span",{staticClass:"filed"},[t._v("待处理")]):t._e()],t._v(" "),i("span",{staticClass:"options"},[[i("span",{staticClass:"lookDetail",on:{click:function(i){t.handleLookDetail(e.applyId)}}},[t._v("查看详情\n                        ")]),t._v(" "),t.isUpFilePower?i("span",{staticClass:"upFiles",on:{click:function(i){t.handleLookUpFiles(e.applyId)}}},[t._v("上传\n                        ")]):t._e(),t._v(" "),i("span",{staticClass:"downLoad",class:1==e.status?"canDownLoad":"cantDownLoad"},[i("a",{attrs:{download:""},on:{click:function(i){t.handleApplyDownLoad(e.applyId,e.status,i)}}},[t._v("下载")])]),t._v(" "),t.isDownLoadEnclosurPower?i("span",{staticClass:"downLoad"},[i("a",{attrs:{download:""},on:{click:function(i){t.handleEnclosureDownLoad(e.applyId,e.status,i)}}},[t._v("下载附件")])]):t._e()]],2)],2)})):t._e()]),t._v(" "),t.isShowinspectDetail?i("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.away,expression:"away"}],staticClass:"mod-inspectDetail"},[null!=t.detailData?i("div",{staticClass:"checkDetail"},[i("ApplyDetail",{attrs:{detailData:t.detailData},on:{closeBtn:t.handleDetailClose}})],1):t._e()]):t._e(),t._v(" "),t.isShowUpFormFiles?i("div",{staticClass:"upApplyForFiles"},[i("el-upload",{ref:"upload",staticClass:"upload",attrs:{action:t.upLoadUrl,data:t.upLoadData,"file-list":t.fileList,"on-success":t.handleUpLoadSuccess,"show-file-list":!0,"auto-upload":!1}},[i("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选择文件")]),t._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("确定上传")]),t._v(" "),i("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[t._v("请上传文件")]),t._v(" "),i("div",{staticClass:"cannel",on:{click:t.hancleCannelUpLoad}},[t._v("取消")])],1)],1):t._e()])},staticRenderFns:[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("h5",{staticClass:"table-title"},[i("span",[t._v("申请日期")]),t._v(" "),i("span",[t._v("申请单号")]),t._v(" "),i("span",[t._v("状态")]),t._v(" "),i("span",[t._v("操作")])])}]}}});