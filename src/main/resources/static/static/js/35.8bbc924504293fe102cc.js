webpackJsonp([35],{C7M9:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("yt7g"),n=(0,l.getStore)("token");t.default={data:function(){return{radio:"0",value6:"",value7:"",monthData:"",TableData:[],isShowdata_collect:!1,isShowdata_detail:!1,isShowdata_paging:!1,Name:[],Brand:[],currentPage1:1,endTime:"",startTime:"",value1:"",value2:"",rrr:[],Total:{}}},components:{},created:function(){this.platformallnames(),this.exportSumExcelAjax(this.value1),this.Click_search_true({})},watch:{value1:function(e,t){this.exportSumExcelAjax(e)}},methods:{platformallnames:function(){var e=this;(0,l.ajaxPost)("/intelligent/platformallnames").then(function(t){var t="string"==typeof t?JSON.parse(t):t;console.log(t);var a=t.data,l=(a.code,a.msg,a.result);e.Name=l.data}).catch(function(e){console.log("err",e)})},exportSumExcelAjax:function(e){var t=this,a={platformId:e};(0,l.ajaxPost)("/intelligent/channelallnames",a).then(function(e){var e="string"==typeof e?JSON.parse(e):e;console.log(e);var a=e.data,l=(a.code,a.msg,a.result);t.Brand=l}).catch(function(e){console.log("err",e)})},handleNum:function(e){return e<10?"0"+e:e},Click_search:function(){1==this.radio?(this.isShowdata_detail=!1,this.isShowdata_collect=!0):(this.isShowdata_detail=!0,this.isShowdata_collect=!1);var e=(0,l.getFullTime)(this.value6),t=(0,l.getFullTime)(this.value7),a={platformId:this.value1,channelName:this.value2,startTime:e.year+"-"+this.handleNum(e.month)+"-"+this.handleNum(e.date),endTime:e.year+"-"+this.handleNum(t.month)+"-"+this.handleNum(t.date),isDetail:this.radio,pageno:1,pagesize:10};this.Click_search_true(a)},Click_search_true:function(e){var t=this;(0,l.ajaxPost)("/intelligent/pageinfochannelconsume",e).then(function(e){var e="string"==typeof e?JSON.parse(e):e;console.log(e);var a=e.data,l=(a.code,a.msg,a.result);t.TableData=l.list,t.Total=l.total,l.list.length>9||0==l.isFirstPage?t.isShowdata_paging=!0:t.isShowdata_paging=!1}).catch(function(e){console.log("err",e)})},collect_download:function(){var e=(0,l.getFullTime)(this.value6),t=(0,l.getFullTime)(this.value7);this.value1,this.value2,e.year,this.handleNum(e.month),this.handleNum(e.date),e.year,this.handleNum(t.month),this.handleNum(t.date),this.radio},collect_download_true:function(e){var t=(0,l.getFullTime)(this.value6),a=(0,l.getFullTime)(this.value7);t=t.year+"-"+this.handleNum(t.month)+"-"+this.handleNum(t.date),a=a.year+"-"+this.handleNum(a.month)+"-"+this.handleNum(a.date);var i=e.target;i.setAttribute("href","http://smp.bitauto.com/intelligent/exportSumExcel?'token='"+n+"&platformId="+this.value1+"&channelName="+this.value2+"&startTime="+t+"&endTime="+a+"&isDetail="+this.radio),i.setAttribute("download","申请单"),window.location.href="/intelligent//exportSumExcel?token="+n+"&platformId="+this.value1+"&channelName="+this.value2+"&startTime="+t+"&endTime="+a+"&isDetail="+this.radio},nextpage:function(e){var t=(0,l.getFullTime)(this.value6),a=(0,l.getFullTime)(this.value7),n={platformId:this.value1,channelName:this.value2,startTime:t.year+"-"+this.handleNum(t.month)+"-"+this.handleNum(t.date),endTime:t.year+"-"+this.handleNum(a.month)+"-"+this.handleNum(a.date),isDetail:this.radio,pageno:e,pagesize:10};this.Click_search_true(n)},handleSizeChange:function(e){console.log("每页 "+e+" 条")},handleCurrentChange:function(e){console.log("当前页: "+e)}}}},Es5V:function(e,t,a){var l=a("JRim");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("8411deae",l,!0)},Hx6z:function(e,t,a){a("Es5V");var l=a("VU/8")(a("C7M9"),a("NZC7"),null,null);e.exports=l.exports},JRim:function(e,t,a){t=e.exports=a("FZ+f")(!1),t.push([e.i,".el-date-editor>input{text-align:center!important}.time_left_1{margin-left:30px}.time_left_1,.time_right_2{float:left;width:150px!important;margin-top:30px}.time_right_2{margin-left:20px}.mod-channelconsume{position:relative}.channelconsume_head{min-height:300px;background:#f9f9f9}.mod-title{height:36px;line-height:36px;padding:0 20px;border-radius:5px;text-align:left;font-size:14px;background:#5477ad;color:#fff}.channelconsume_head_Name{height:100px;width:100%}.platform_Name{width:50%;float:left}.platform_Name p{float:left;margin-left:50px;line-height:100px}.channel_Name{width:50%;float:right}.channel_Name p{float:left;margin-left:100px;line-height:100px}.channel_Name_cascader,.platform_Name_select{float:left;margin-left:30px;margin-top:30px}.channelconsume_head_time{height:100px;width:100%}.time_selection{width:50%;float:left}.time_selection p{float:left;margin-left:50px;line-height:100px}.time_Checkbox{width:50%;float:right;line-height:100px}.time_Checkbox_collect{margin-left:100px}.time_Checkbox_collect,.time_Checkbox_detail{float:left;line-height:100px}.channelconsume_head_search{height:100px;width:100%}.el_button_search{margin-top:20px}.channelconsume_main_collect,.channelconsume_main_detail{width:100%}.el-table__empty-block{height:480px}.channelconsume_collect_table,.channelconsume_detail_table{min-height:584px;background:#f9f9f9}.channelconsume_el-table{margin:auto;margin-top:20px}.el-icon-download{font-size:20px;float:right;line-height:36px}.channelconsume_collect_paging,.channelconsume_detail_paging{min-height:100px;background:#f9f9f9}.el-pagination{white-space:nowrap;padding:30px 5px;color:#303133;font-weight:700}.el-table__empty-block{min-height:280px;font-size:30px;padding-top:60px;text-align:center;color:#d2cfcf;box-sizing:border-box}.el-table{border-radius:5px}.el-table th{text-align:center;background:#7fabd2}.el-table th .cell{background:#7fabd2;color:#fff}",""])},NZC7:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mod-channelconsume"},[a("div",{staticClass:"channelconsume_head"},[a("h5",{staticClass:"mod-title"},[e._v("搜索条件"),a("span",{staticClass:"titleData"},[e._v(e._s(e.monthData))])]),e._v(" "),a("div",{staticClass:"channelconsume_head_Name"},[a("div",{staticClass:"platform_Name"},[a("p",[e._v("平台名称")]),e._v(" "),a("el-select",{staticClass:"platform_Name_select",attrs:{placeholder:"请选择"},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},e._l(e.Name,function(e){return a("el-option",{key:e.platformName,attrs:{label:e.platformName,value:e.id}})}))],1),e._v(" "),a("div",{staticClass:"channel_Name"},[a("p",[e._v("渠道名称")]),e._v(" "),a("el-select",{staticClass:"channel_Name_cascader",attrs:{placeholder:"请选择"},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}},e._l(e.Brand,function(e){return a("el-option",{key:e.channelName,attrs:{label:e.channelName,value:e.channelName}})}))],1)]),e._v(" "),a("div",{staticClass:"channelconsume_head_time"},[a("div",{staticClass:"time_selection"},[a("p",[e._v("时间选择")]),e._v(" "),a("el-date-picker",{staticClass:"time_left_1",attrs:{type:"date",placeholder:"开始日期"},model:{value:e.value6,callback:function(t){e.value6=t},expression:"value6"}}),e._v(" "),a("el-date-picker",{staticClass:"time_right_2",attrs:{type:"date",placeholder:"结束日期"},model:{value:e.value7,callback:function(t){e.value7=t},expression:"value7"}})],1),e._v(" "),a("div",{staticClass:"time_Checkbox"},[a("el-radio",{staticClass:"time_Checkbox_collect",attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("汇总")]),e._v(" "),a("el-radio",{staticClass:"time_Checkbox_detail",attrs:{label:"0"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("明细")])],1)]),e._v(" "),a("div",{staticClass:"channelconsume_head_search"},[a("el-button",{staticClass:"el_button_search",attrs:{type:"primary",icon:"el-icon-search"},on:{click:function(t){e.Click_search()}}},[e._v("搜索")])],1)]),e._v(" "),e.isShowdata_collect?a("div",{staticClass:"channelconsume_main_collect"},[a("div",{staticClass:"channelconsume_collect_table"},[a("h5",{staticClass:"mod-title"},[e._v("汇总数据列表"),a("span",{staticClass:"titleData"},[e._v(e._s(e.monthData))]),a("i",{staticClass:"el-icon-download",on:{click:function(t){e.collect_download_true(t)}}})]),e._v(" "),a("el-table",{staticClass:"channelconsume_el-table",staticStyle:{width:"97%"},attrs:{data:e.TableData}},[a("el-table-column",{attrs:{prop:"platformName",label:"平台名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channelName",label:"渠道名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"qfLeadsCnt",label:"线索量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"qfLeadsUserCnt",label:"线索用户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"qfAccountConsume",label:"消耗"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cluePrice",label:"线索单价"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userPrice",label:"用户单价"}})],1)],1),e._v(" "),e.isShowdata_paging?a("div",{staticClass:"channelconsume_detail_paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage1,"page-size":10,total:e.Total},on:{"current-change":e.nextpage,"update:currentPage":function(t){e.currentPage1=t}}})],1):e._e()]):e._e(),e._v(" "),e.isShowdata_detail?a("div",{staticClass:"channelconsume_main_collect"},[a("div",{staticClass:"channelconsume_collect_table"},[a("h5",{staticClass:"mod-title"},[e._v("明细数据列表"),a("span",{staticClass:"titleData"},[e._v(e._s(e.monthData))]),a("i",{staticClass:"el-icon-download",on:{click:function(t){e.collect_download_true(t)}}})]),e._v(" "),a("el-table",{staticClass:"channelconsume_el-table",staticStyle:{width:"97%"},attrs:{data:e.TableData}},[a("el-table-column",{attrs:{prop:"bt",label:"日期"}}),e._v(" "),a("el-table-column",{attrs:{prop:"platformName",label:"平台名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channelName",label:"渠道名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"qfLeadsCnt",label:"线索量"}}),e._v(" "),a("el-table-column",{attrs:{prop:"qfLeadsUserCnt",label:"线索用户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"qfAccountConsume",label:"消耗"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cluePrice",label:"线索单价"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userPrice",label:"用户单价"}})],1)],1),e._v(" "),e.isShowdata_paging?a("div",{staticClass:"channelconsume_detail_paging"},[a("el-pagination",{attrs:{"current-page":e.currentPage1,"page-size":10,total:e.Total},on:{"current-change":e.nextpage,"update:currentPage":function(t){e.currentPage1=t}}})],1):e._e()]):e._e()])},staticRenderFns:[]}}});