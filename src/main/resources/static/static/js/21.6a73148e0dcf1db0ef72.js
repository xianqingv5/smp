webpackJsonp([21],{I0rn:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("yt7g");e.default={data:function(){return{obj:{e:2,a:{b:{c:1}}},monthData:"",data_data:null,isShowdata_cs:!1,fileList:[],channel_tableData:[],status_data:[],pickerOptions:{},userid:"",opinion:"",selectUserList:[],dataObj:{},dataOb:{},disabledOn:!1}},components:{},created:function(){this.selectFileExcleListAjax(),this.Excel()},watch:{opinion:function(t,e){console.log("newval-------"+t),console.log("newval-------"+e),this.disabledOn="否"==t}},methods:{selectFileExcleListAjax:function(){var t=this;(0,i.ajaxPost)("/intelligent/selectFileExcleList").then(function(e){var e="string"==typeof e?JSON.parse(e):e;200==e.status&&"success"==e.data.msg&&(t.channel_tableData=e.data.result.data,console.log(channel_tableData),t.channel_tableData.map(function(e){e.uploadtime=(0,i.handleTime)(e.uploadtime,"-"),e.filename=t.handleName(e),e.status=t.handleStatus(e)}))}).catch(function(t){console.log("err",t)})},handleName:function(t){return t.filename.split(".")[0]+"-"+(0,i.handleTime)(t.uploadtime)+"-"+t.operator},handleStatus:function(t){var e=t.message;return console.log(t.message),e},Excel:function(){var t={id:1};(0,i.ajaxPost)("/resource/getExcel",t).then(function(t){var t="string"==typeof t?JSON.parse(t):t;console.log(t)}).catch(function(t){console.log("err",t)})},click_close:function(){this.isShowdata_cs=!this.isShowdata_cs},click_uploading:function(){var t=this;this.isShowdata_cs=!this.isShowdata_cs,(0,i.ajaxPost)("/intelligent/selectUser").then(function(e){var e="string"==typeof e?JSON.parse(e):e;console.log(e);var a=e.data,i=(a.code,a.msg,a.result);t.selectUserList=i.data}).catch(function(t){console.log("err",t)})},handleCellClick:function(){},submitUpload:function(){this.$message({message:"警告哦，这是一条警告消息",type:"warning"}),this.dataObj.opinion=this.opinion,this.userid,this.$refs.upload.submit()},handleRemove:function(t,e){console.log("handleRemove"),console.log(t,e)},handlePreview:function(t){console.log("我是file handlePreview"),console.log(t)}}}},QhCp:function(t,e,a){var i=a("aE/8");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("rjj0")("7c980d18",i,!0)},SMhD:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mod-channeldata"},[a("div",{staticClass:"mod-channelTable"},[a("h5",{staticClass:"mod-title"},[t._v("渠道消耗数据上传列表"),a("span",{staticClass:"titleData"},[t._v(t._s(t.monthData))])]),t._v(" "),a("div",{staticClass:"tableWarp"},[[a("el-table",{staticStyle:{width:"97%",margin:"auto"},attrs:{data:t.channel_tableData}},[a("el-table-column",{attrs:{prop:"uploadtime",label:"上传时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"filename",label:"文件名"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"click",placement:"top"}},[a("div",[t._v("{{}}")]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[t._v(t._s(e.row.filename))])],1)])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"operator",label:"操作人"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态"}})],1)],t._v(" "),a("el-button",{staticClass:"channel_uploading",attrs:{type:"primary"},on:{click:t.click_uploading}},[t._v("上传数据"),a("i",{staticClass:"el-icon-upload el-icon--right"})])],2)]),t._v(" "),t.isShowdata_cs?a("div",{staticClass:"uploading_div"},[a("div",{staticClass:"uploading_div_head"},[a("p",[t._v("上传文件")]),t._v(" "),a("i",{staticClass:"el-icon-close",on:{click:t.click_close}})]),t._v(" "),a("div",{staticClass:"uploading_div_main"},[a("p",[t._v("是否代上传")]),t._v(" "),a("el-select",{staticClass:"combo_box",attrs:{placeholder:"请选择"},model:{value:t.opinion,callback:function(e){t.opinion=e},expression:"opinion"}},[a("el-option",{key:"是",attrs:{label:"是",value:"是"}}),t._v(" "),a("el-option",{key:"否",attrs:{label:"否",value:"否"}})],1)],1),t._v(" "),a("div",{staticClass:"uploading_div_main_2"},[a("p",[t._v("是谁上传")]),t._v(" "),a("el-select",{staticClass:"combo_box",attrs:{placeholder:"请选择",disabled:t.disabledOn},model:{value:t.userid,callback:function(e){t.userid=e},expression:"userid"}},t._l(t.selectUserList,function(t){return a("el-option",{key:t.userid,attrs:{label:t.username,value:t.userid}})}))],1),t._v(" "),a("div",{staticClass:"uploading_div_uploading"},[a("p",[t._v("上传文件")]),t._v(" "),a("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"/intelligent/uploadExcelData","on-preview":t.handlePreview,"on-remove":t.handleRemove,"file-list":t.fileList,data:t.dataObj,"auto-upload":!1}},[a("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[t._v("选取文件")]),t._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{size:"small",type:"success"},on:{click:t.submitUpload}},[t._v("上传到服务器")])],1)],1)]):t._e()])},staticRenderFns:[]}},"aE/8":function(t,e,a){e=t.exports=a("FZ+f")(!1),e.push([t.i,".none{display:none}.mod-title span{font-size:12px;margin-left:10px}.mod-title .titleData{margin-left:20px}.el-table{border-radius:5px}.el-table th{text-align:center;background:#7fabd2}.el-table th .cell{background:#7fabd2;color:#fff}.mod-channeldata{position:relative}.mod-title{height:36px;line-height:36px;padding:0 20px;border-radius:5px;text-align:left;font-size:14px;background:#5477ad;color:#fff}.mod-channelTable{min-height:366px;background:#f9f9f9}.mod-table{width:97%;margin:0 auto}.tableWarp{background:#f9f9f9;padding-top:30px}.channel_uploading{float:right;margin:10px 10px 0 0}.uploading_div{position:fixed;top:0;left:0;right:0;bottom:0;margin:auto;width:600px;height:320px;font-size:13px;text-align:left;z-index:1000;border:1px solid #ccc;box-shadow:5px 3px 5px #ccc;background:#f9f9f9}.uploading_div_head{width:600px;height:30px;background:#a9a9a9}.uploading_div_head p{font-size:14px;line-height:30px;margin-left:10px;float:left}.el-icon-close{font-size:22px;margin:4px 4px 0 0;float:right;cursor:pointer}.uploading_div_main{margin-top:20px;width:600px;height:50px;background:#f9f9f9}.uploading_div_main p{margin-left:160px;float:left;line-height:50px}.combo_box{width:100px;height:20px;float:right;margin-right:200px;margin-top:8px;z-index:2000}.uploading_div_main_2{margin-top:20px;width:600px;height:50px;background:#f9f9f9}.uploading_div_main_2 p{margin-left:160px;float:left;line-height:50px}.uploading_div_uploading{margin-top:20px;width:600px;height:50px;background:#f9f9f9}.uploading_div_uploading p{margin-left:160px;float:left;line-height:50px}.upload-demo{line-height:50px;float:left;margin-left:20px}.el-upload-list__item .el-icon-close{display:none;position:absolute;top:-1px;right:0;cursor:pointer;opacity:.75;color:#606266}.el-table__empty-block{min-height:280px;font-size:30px;padding-top:60px;text-align:center;color:#d2cfcf;box-sizing:border-box}",""])},gDmx:function(t,e,a){a("QhCp");var i=a("VU/8")(a("I0rn"),a("SMhD"),null,null);t.exports=i.exports}});